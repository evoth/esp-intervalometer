#include "resources.h"

const char indexHtml[] PROGMEM = R"rawliteral(
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ESP8266 Intervalometer</title>
    <script type="module">var We=Object.defineProperty;var Ke=(t,e,n)=>e in t?We(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fe=(t,e,n)=>(Ke(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function y(){}const He=t=>t;function Ve(t,e){for(const n in e)t[n]=e[n];return t}function Me(t){return t()}function be(){return Object.create(null)}function D(t){t.forEach(Me)}function _e(t){return typeof t=="function"}function A(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ge(t){return Object.keys(t).length===0}function Qe(t,...e){if(t==null){for(const r of e)r(void 0);return y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function I(t,e,n){t.$$.on_destroy.push(Qe(e,n))}function Fe(t,e,n,r){if(t){const i=Re(t,e,n,r);return t[0](i)}}function Re(t,e,n,r){return t[1]&&r?Ve(n.ctx.slice(),t[1](r(e))):n.ctx}function je(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],l=Math.max(e.dirty.length,i.length);for(let s=0;s<l;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function Ae(t,e,n,r,i,o){if(i){const l=Re(e,n,r,o);t.p(l,i)}}function De(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function ye(t){return t??""}function L(t,e,n){return t.set(n),e}const Ue=typeof window<"u";let Xe=Ue?()=>window.performance.now():()=>Date.now(),me=Ue?t=>requestAnimationFrame(t):y;const J=new Set;function ze(t){J.forEach(e=>{e.c(t)||(J.delete(e),e.f())}),J.size!==0&&me(ze)}function Ye(t){let e;return J.size===0&&me(ze),{promise:new Promise(n=>{J.add(e={c:t,f:n})}),abort(){J.delete(e)}}}function v(t,e){t.appendChild(e)}function Te(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ze(t){const e=h("style");return e.textContent="/* empty */",et(Te(t),e),e.sheet}function et(t,e){return v(t.head||t,e),e.sheet}function g(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function ke(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function N(){return x(" ")}function H(){return x("")}function O(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function qe(t){return t===""?null:+t}function tt(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.data!==e&&(t.data=e)}function K(t,e){t.value=e??""}function Z(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function nt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const re=new Map;let oe=0;function rt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ot(t,e){const n={stylesheet:Ze(e),rules:{}};return re.set(t,n),n}function ve(t,e,n,r,i,o,l,s=0){const f=16.666/r;let c=`{
`;for(let k=0;k<=1;k+=f){const C=e+(n-e)*o(k);c+=k*100+`%{${l(C,1-C)}}
`}const _=c+`100% {${l(n,1-n)}}
}`,d=`__svelte_${rt(_)}_${s}`,p=Te(t),{stylesheet:u,rules:a}=re.get(p)||ot(p,t);a[d]||(a[d]=!0,u.insertRule(`@keyframes ${d} ${_}`,u.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${d} ${r}ms linear ${i}ms 1 both`,oe+=1,d}function it(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),oe-=i,oe||st())}function st(){me(()=>{oe||(re.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&m(e)}),re.clear())})}let ge;function G(t){ge=t}const B=[],we=[];let W=[];const Ce=[],lt=Promise.resolve();let pe=!1;function ct(){pe||(pe=!0,lt.then(Be))}function Q(t){W.push(t)}const ae=new Set;let T=0;function Be(){if(T!==0)return;const t=ge;do{try{for(;T<B.length;){const e=B[T];T++,G(e),ut(e.$$)}}catch(e){throw B.length=0,T=0,e}for(G(null),B.length=0,T=0;we.length;)we.pop()();for(let e=0;e<W.length;e+=1){const n=W[e];ae.has(n)||(ae.add(n),n())}W.length=0}while(B.length);for(;Ce.length;)Ce.pop()();pe=!1,ae.clear(),G(t)}function ut(t){if(t.fragment!==null){t.update(),D(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function ft(t){const e=[],n=[];W.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),W=e}let V;function at(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function de(t,e,n){t.dispatchEvent(nt(`${e?"intro":"outro"}${n}`))}const ee=new Set;let M;function he(){M={r:0,c:[],p:M}}function $e(){M.r||D(M.c),M=M.p}function w(t,e){t&&t.i&&(ee.delete(t),t.i(e))}function S(t,e,n,r){if(t&&t.o){if(ee.has(t))return;ee.add(t),M.c.push(()=>{ee.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const dt={duration:0};function Se(t,e,n,r){let o=e(t,n,{direction:"both"}),l=r?0:1,s=null,f=null,c=null,_;function d(){c&&it(t,c)}function p(a,b){const k=a.b-l;return b*=Math.abs(k),{a:l,b:a.b,d:k,duration:b,start:a.start,end:a.start+b,group:a.group}}function u(a){const{delay:b=0,duration:k=300,easing:C=He,tick:le=y,css:ce}=o||dt,ue={start:Xe()+b,b:a};a||(ue.group=M,M.r+=1),"inert"in t&&(a?_!==void 0&&(t.inert=_):(_=t.inert,t.inert=!0)),s||f?f=ue:(ce&&(d(),c=ve(t,l,a,k,b,C,ce)),a&&le(0,1),s=p(ue,k),Q(()=>de(t,a,"start")),Ye(Y=>{if(f&&Y>f.start&&(s=p(f,k),f=null,de(t,s.b,"start"),ce&&(d(),c=ve(t,l,s.b,s.duration,0,C,o.css))),s){if(Y>=s.end)le(l=s.b,1-l),de(t,s.b,"end"),f||(s.b?d():--s.group.r||D(s.group.c)),s=null;else if(Y>=s.start){const Je=Y-s.start;l=s.a+s.d*C(Je/s.duration),le(l,1-l)}}return!!(s||f)}))}return{run(a){_e(o)?at().then(()=>{o=o({direction:a?"in":"out"}),u(a)}):u(a)},end(){d(),s=f=null}}}function R(t){t&&t.c()}function E(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Q(()=>{const o=t.$$.on_mount.map(Me).filter(_e);t.$$.on_destroy?t.$$.on_destroy.push(...o):D(o),t.$$.on_mount=[]}),i.forEach(Q)}function P(t,e){const n=t.$$;n.fragment!==null&&(ft(n.after_update),D(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){t.$$.dirty[0]===-1&&(B.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(t,e,n,r,i,o,l=null,s=[-1]){const f=ge;G(t);const c=t.$$={fragment:null,ctx:[],props:o,update:y,not_equal:i,bound:be(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:be(),dirty:s,skip_bound:!1,root:e.target||f.$$.root};l&&l(c.root);let _=!1;if(c.ctx=n?n(t,e.props||{},(d,p,...u)=>{const a=u.length?u[0]:p;return c.ctx&&i(c.ctx[d],c.ctx[d]=a)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](a),_&&pt(t,d)),p}):[],c.update(),_=!0,D(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=tt(e.target);c.fragment&&c.fragment.l(d),d.forEach(m)}else c.fragment&&c.fragment.c();e.intro&&w(t.$$.fragment),E(t,e.target,e.anchor),Be()}G(f)}class z{constructor(){fe(this,"$$");fe(this,"$$set")}$destroy(){P(this,1),this.$destroy=y}$on(e,n){if(!_e(n))return y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Ge(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _t="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_t);function mt(t){let e;return{c(){e=h("style"),e.textContent=`:root {
      --gray-5: var(--white);
      --gray-15: var(--lighter);
      --gray-35: var(--light);
      --gray-50: var(--medium);
      --gray-65: var(--dark);
      --gray-85: var(--darker);
      --gray-95: var(--black);
      --green-5: var(--light-green);
      --green-95: var(--dark-green);
      --red-5: var(--light-red);
      --red-95: var(--dark-red);
      --yellow-5: var(--light-yellow);
      --yellow-95: var(--dark-yellow);
    }`},m(n,r){g(n,e,r)},d(n){n&&m(e)}}}function gt(t){let e;return{c(){e=h("style"),e.textContent=`:root {
      --gray-5: var(--black);
      --gray-15: var(--darker);
      --gray-35: var(--dark);
      --gray-50: var(--medium);
      --gray-65: var(--light);
      --gray-85: var(--lighter);
      --gray-95: var(--white);
      --green-5: var(--dark-green);
      --green-95: var(--light-green);
      --red-5: var(--dark-red);
      --red-95: var(--light-red);
      --yellow-5: var(--dark-yellow);
      --yellow-95: var(--light-yellow);
    }`},m(n,r){g(n,e,r)},d(n){n&&m(e)}}}function ht(t){let e,n,r,i,o;function l(c,_){return c[0]=="light"?gt:mt}let s=l(t),f=s(t);return{c(){e=h("button"),e.innerHTML='<img src="/icon.svg" alt="Crescent icon"/>',n=N(),f.c(),r=H(),$(e,"title","Switch theme"),$(e,"class","svelte-1yxernf")},m(c,_){g(c,e,_),g(c,n,_),f.m(c,_),g(c,r,_),i||(o=O(e,"click",t[1]),i=!0)},p(c,[_]){s!==(s=l(c))&&(f.d(1),f=s(c),f&&(f.c(),f.m(r.parentNode,r)))},i:y,o:y,d(c){c&&(m(e),m(n),m(r)),f.d(c),i=!1,o()}}}function $t(t,e,n){let r=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");return[r,()=>{n(0,r=r=="light"?"dark":"light"),localStorage.setItem("theme",r)}]}class bt extends z{constructor(e){super(),U(this,e,$t,ht,A,{})}}const q=[];function X(t,e=y){let n;const r=new Set;function i(s){if(A(t,s)&&(t=s,n)){const f=!q.length;for(const c of r)c[1](),q.push(c,t);if(f){for(let c=0;c<q.length;c+=2)q[c][0](q[c+1]);q.length=0}}}function o(s){i(s(t))}function l(s,f=y){const c=[s,f];return r.add(c),r.size===1&&(n=e(i,o)||y),s(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}const te=X(!1),Ne=X("192.168.4.1"),j=X({statusCode:0,statusMsg:"Page loaded.",sec:0,ms:0,cameraConnected:!1,intervalSec:35,isRunning:!1,cameraIP:"192.168.4.7",numShots:0,timeUntilNext:0}),F=X(!1),ie=X();function yt(t){const e=t-1;return e*e*e+1}function Ie(t,{delay:e=0,duration:n=400,easing:r=yt,axis:i="y"}={}){const o=getComputedStyle(t),l=+o.opacity,s=i==="y"?"height":"width",f=parseFloat(o[s]),c=i==="y"?["top","bottom"]:["left","right"],_=c.map(C=>`${C[0].toUpperCase()}${C.slice(1)}`),d=parseFloat(o[`padding${_[0]}`]),p=parseFloat(o[`padding${_[1]}`]),u=parseFloat(o[`margin${_[0]}`]),a=parseFloat(o[`margin${_[1]}`]),b=parseFloat(o[`border${_[0]}Width`]),k=parseFloat(o[`border${_[1]}Width`]);return{delay:e,duration:n,easing:r,css:C=>`overflow: hidden;opacity: ${Math.min(C*20,1)*l};${s}: ${C*f}px;padding-${c[0]}: ${C*d}px;padding-${c[1]}: ${C*p}px;margin-${c[0]}: ${C*u}px;margin-${c[1]}: ${C*a}px;border-${c[0]}-width: ${C*b}px;border-${c[1]}-width: ${C*k}px;`}}const kt=t=>({}),xe=t=>({});function Ee(t){let e,n,r;const i=t[4].default,o=Fe(i,t,t[3],null);return{c(){e=h("div"),o&&o.c(),$(e,"class","body svelte-1498x88")},m(l,s){g(l,e,s),o&&o.m(e,null),r=!0},p(l,s){o&&o.p&&(!r||s&8)&&Ae(o,i,l,l[3],r?je(i,l[3],s,null):De(l[3]),null)},i(l){r||(w(o,l),l&&Q(()=>{r&&(n||(n=Se(e,Ie,{duration:300},!0)),n.run(1))}),r=!0)},o(l){S(o,l),l&&(n||(n=Se(e,Ie,{duration:300},!1)),n.run(0)),r=!1},d(l){l&&m(e),o&&o.d(l),l&&n&&n.end()}}}function vt(t){let e,n,r,i,o,l,s,f,c,_,d;const p=t[4].heading,u=Fe(p,t,t[3],xe);let a=t[0]&&Ee(t);return{c(){e=h("div"),n=h("div"),u&&u.c(),r=N(),i=h("button"),o=ke("svg"),l=ke("path"),f=N(),a&&a.c(),$(l,"d","M15 18l-6-6 6-6"),$(o,"class",s=ye(t[0]?"rotated":"")+" svelte-1498x88"),$(o,"xmlns","http://www.w3.org/2000/svg"),$(o,"width","24"),$(o,"height","24"),$(o,"viewBox","0 0 24 24"),$(o,"fill","none"),$(o,"stroke","currentColor"),$(o,"stroke-width","2"),$(o,"stroke-linecap","round"),$(o,"stroke-linejoin","round"),$(i,"class","svelte-1498x88"),$(n,"class","heading svelte-1498x88"),$(e,"class","section svelte-1498x88")},m(b,k){g(b,e,k),v(e,n),u&&u.m(n,null),v(n,r),v(n,i),v(i,o),v(o,l),v(e,f),a&&a.m(e,null),c=!0,_||(d=O(i,"click",t[1]),_=!0)},p(b,[k]){u&&u.p&&(!c||k&8)&&Ae(u,p,b,b[3],c?je(p,b[3],k,kt):De(b[3]),xe),(!c||k&1&&s!==(s=ye(b[0]?"rotated":"")+" svelte-1498x88"))&&$(o,"class",s),b[0]?a?(a.p(b,k),k&1&&w(a,1)):(a=Ee(b),a.c(),w(a,1),a.m(e,null)):a&&(he(),S(a,1,1,()=>{a=null}),$e())},i(b){c||(w(u,b),w(a),c=!0)},o(b){S(u,b),S(a),c=!1},d(b){b&&m(e),u&&u.d(b),a&&a.d(),_=!1,d()}}}function wt(t,e,n){let{$$slots:r={},$$scope:i}=e,{name:o}=e;const l=`${o}-expanded`;let s;localStorage.getItem(l)?s=localStorage.getItem(l)==String(!0):s=!0;const f=()=>{n(0,s=!s),o&&localStorage.setItem(l,String(s))};return t.$$set=c=>{"name"in c&&n(2,o=c.name),"$$scope"in c&&n(3,i=c.$$scope)},[s,f,o,i,r]}class se extends z{constructor(e){super(),U(this,e,wt,vt,A,{name:2})}}function Ct(t){let e;return{c(){e=h("p"),e.textContent="Disconnected",$(e,"class","error")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function St(t){let e,n,r=t[2].cameraIP+"",i;return{c(){e=h("p"),n=x("Connected to "),i=x(r),$(e,"class","success")},m(o,l){g(o,e,l),v(e,n),v(e,i)},p(o,l){l&4&&r!==(r=o[2].cameraIP+"")&&ne(i,r)},d(o){o&&m(e)}}}function Nt(t){let e;return{c(){e=h("p"),e.textContent="Connecting..."},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function It(t){let e,n,r,i,o,l,s;function f(d,p){return d[1]?Nt:d[2].cameraConnected?St:Ct}let c=f(t),_=c(t);return{c(){e=h("input"),n=N(),r=h("button"),r.textContent="Connect",i=N(),_.c(),o=H(),$(e,"placeholder","Camera IP address")},m(d,p){g(d,e,p),K(e,t[0]),g(d,n,p),g(d,r,p),g(d,i,p),_.m(d,p),g(d,o,p),l||(s=[O(e,"input",t[4]),O(r,"click",t[3])],l=!0)},p(d,p){p&1&&e.value!==d[0]&&K(e,d[0]),c===(c=f(d))&&_?_.p(d,p):(_.d(1),_=c(d),_&&(_.c(),_.m(o.parentNode,o)))},d(d){d&&(m(e),m(n),m(r),m(i),m(o)),_.d(d),l=!1,D(s)}}}function xt(t){let e;return{c(){e=h("h2"),e.textContent="Connect camera",$(e,"slot","heading")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function Et(t){let e,n;return e=new se({props:{name:"connect-camera",$$slots:{heading:[xt],default:[It]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(r,i){E(e,r,i),n=!0},p(r,[i]){const o={};i&135&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){P(e,r)}}}function Pt(t,e,n){let r,i,o;I(t,F,_=>n(5,r=_)),I(t,ie,_=>n(6,i=_)),I(t,j,_=>n(2,o=_));let l,s;j.subscribe(_=>n(0,l=_.cameraIP||l)),F.subscribe(_=>n(1,s=_&&s));const f=()=>{i.send(JSON.stringify({command:"connect",cameraIP:l})),n(1,s=L(F,r=!0,r))};function c(){l=this.value,n(0,l)}return[l,s,o,f,c]}class Ot extends z{constructor(e){super(),U(this,e,Pt,Et,A,{})}}function Lt(t){let e,n,r;return{c(){e=h("button"),e.textContent="Disconnect"},m(i,o){g(i,e,o),n||(r=O(e,"click",t[5]),n=!0)},p:y,d(i){i&&m(e),n=!1,r()}}}function Mt(t){let e,n,r;return{c(){e=h("button"),e.textContent="Connect"},m(i,o){g(i,e,o),n||(r=O(e,"click",t[4]),n=!0)},p:y,d(i){i&&m(e),n=!1,r()}}}function Ft(t){let e;return{c(){e=h("p"),e.textContent="Disconnected",$(e,"class","error")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function Rt(t){let e,n,r;return{c(){e=h("p"),n=x("Connected to "),r=x(t[3]),$(e,"class","success")},m(i,o){g(i,e,o),v(e,n),v(e,r)},p(i,o){o&8&&ne(r,i[3])},d(i){i&&m(e)}}}function jt(t){let e;return{c(){e=h("p"),e.textContent="Connecting..."},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function At(t){let e,n,r,i,o,l;function s(u,a){return!u[2]||u[0]!=u[3]?Mt:Lt}let f=s(t),c=f(t);function _(u,a){return u[1]?jt:u[2]?Rt:Ft}let d=_(t),p=d(t);return{c(){e=h("input"),n=N(),c.c(),r=N(),p.c(),i=H(),$(e,"placeholder","ESP8266 IP address")},m(u,a){g(u,e,a),K(e,t[0]),g(u,n,a),c.m(u,a),g(u,r,a),p.m(u,a),g(u,i,a),o||(l=O(e,"input",t[6]),o=!0)},p(u,a){a&1&&e.value!==u[0]&&K(e,u[0]),f===(f=s(u))&&c?c.p(u,a):(c.d(1),c=f(u),c&&(c.c(),c.m(r.parentNode,r))),d===(d=_(u))&&p?p.p(u,a):(p.d(1),p=d(u),p&&(p.c(),p.m(i.parentNode,i)))},d(u){u&&(m(e),m(n),m(r),m(i)),c.d(u),p.d(u),o=!1,l()}}}function Dt(t){let e;return{c(){e=h("h2"),e.textContent="Connect to ESP8266",$(e,"slot","heading")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function Ut(t){let e,n;return e=new se({props:{name:"connect-esp",$$slots:{heading:[Dt],default:[At]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(r,i){E(e,r,i),n=!0},p(r,[i]){const o={};i&1039&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){P(e,r)}}}function zt(t,e,n){let r,i,o,l,s;I(t,ie,u=>n(7,r=u)),I(t,te,u=>n(2,i=u)),I(t,F,u=>n(8,o=u)),I(t,j,u=>n(9,l=u)),I(t,Ne,u=>n(3,s=u));let f=s,c;const _=()=>{L(Ne,s=f,s),r==null||r.close(),L(ie,r=new WebSocket(`ws://${s}:81`),r),r.addEventListener("message",u=>{L(j,l=JSON.parse(u.data),l),L(F,o=!1,o)}),r.addEventListener("open",u=>{L(te,i=!0,i),n(1,c=!1)}),r.addEventListener("close",u=>{L(te,i=!1,i),n(1,c=!1)}),n(1,c=!0)},d=()=>{r==null||r.close()};_();function p(){f=this.value,n(0,f)}return[f,c,i,s,_,d,p]}class Tt extends z{constructor(e){super(),U(this,e,zt,Ut,A,{})}}function qt(t){let e,n,r;return{c(){e=h("button"),e.textContent="Start"},m(i,o){g(i,e,o),n||(r=O(e,"click",t[3]),n=!0)},p:y,d(i){i&&m(e),n=!1,r()}}}function Bt(t){let e,n,r;return{c(){e=h("button"),e.textContent="Stop"},m(i,o){g(i,e,o),n||(r=O(e,"click",t[4]),n=!0)},p:y,d(i){i&&m(e),n=!1,r()}}}function Jt(t){let e;return{c(){e=h("p"),e.textContent="Intervalometer stopped."},m(n,r){g(n,e,r)},d(n){n&&m(e)}}}function Wt(t){let e;return{c(){e=h("p"),e.textContent="Intervalometer running..."},m(n,r){g(n,e,r)},d(n){n&&m(e)}}}function Kt(t){let e;return{c(){e=h("p"),e.textContent="Loading..."},m(n,r){g(n,e,r)},d(n){n&&m(e)}}}function Ht(t){let e,n,r,i,o,l;function s(u,a){return u[2].isRunning?Bt:qt}let f=s(t),c=f(t);function _(u,a){return u[1]?Kt:u[2].isRunning?Wt:Jt}let d=_(t),p=d(t);return{c(){e=h("input"),n=N(),c.c(),r=N(),p.c(),i=H(),$(e,"type","number"),$(e,"placeholder","Interval in seconds")},m(u,a){g(u,e,a),K(e,t[0]),g(u,n,a),c.m(u,a),g(u,r,a),p.m(u,a),g(u,i,a),o||(l=O(e,"input",t[5]),o=!0)},p(u,a){a&1&&qe(e.value)!==u[0]&&K(e,u[0]),f===(f=s(u))&&c?c.p(u,a):(c.d(1),c=f(u),c&&(c.c(),c.m(r.parentNode,r))),d!==(d=_(u))&&(p.d(1),p=d(u),p&&(p.c(),p.m(i.parentNode,i)))},d(u){u&&(m(e),m(n),m(r),m(i)),c.d(u),p.d(u),o=!1,l()}}}function Vt(t){let e;return{c(){e=h("h2"),e.textContent="Intervalometer",$(e,"slot","heading")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function Gt(t){let e,n;return e=new se({props:{name:"intervalometer",$$slots:{heading:[Vt],default:[Ht]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(r,i){E(e,r,i),n=!0},p(r,[i]){const o={};i&263&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){P(e,r)}}}function Qt(t,e,n){let r,i,o;I(t,F,d=>n(6,r=d)),I(t,ie,d=>n(7,i=d)),I(t,j,d=>n(2,o=d));let l,s;j.subscribe(d=>n(0,l=d.intervalSec||l)),F.subscribe(d=>n(1,s=d&&s));const f=()=>{i.send(JSON.stringify({command:"start",intervalSec:l})),n(1,s=L(F,r=!0,r))},c=()=>{i.send(JSON.stringify({command:"stop"})),n(1,s=L(F,r=!0,r))};function _(){l=qe(this.value),n(0,l)}return[l,s,o,f,c,_]}class Xt extends z{constructor(e){super(),U(this,e,Qt,Gt,A,{})}}function Yt(t){let e;return{c(){e=h("p"),e.textContent=`${t[2]()}`,$(e,"class","error")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function Zt(t){let e;return{c(){e=h("p"),e.textContent=`${t[2]()}`,$(e,"class","warning")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function en(t){let e;return{c(){e=h("p"),e.textContent=`${t[2]()}`,$(e,"class","success")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function Pe(t){let e,n,r=t[1].numShots+"",i,o,l;return{c(){e=h("p"),n=x("Number of shots: "),i=x(r),o=x(`\r
      Time until next shot: `),l=x(t[0])},m(s,f){g(s,e,f),v(e,n),v(e,i),v(e,o),v(e,l)},p(s,f){f&2&&r!==(r=s[1].numShots+"")&&ne(i,r),f&1&&ne(l,s[0])},d(s){s&&m(e)}}}function tn(t){let e,n;function r(s,f){return s[1].statusCode==200?en:s[1].statusCode==0?Zt:Yt}let i=r(t),o=i(t),l=t[1].cameraConnected&&Pe(t);return{c(){o.c(),e=N(),l&&l.c(),n=H()},m(s,f){o.m(s,f),g(s,e,f),l&&l.m(s,f),g(s,n,f)},p(s,f){i===(i=r(s))&&o?o.p(s,f):(o.d(1),o=i(s),o&&(o.c(),o.m(e.parentNode,e))),s[1].cameraConnected?l?l.p(s,f):(l=Pe(s),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(s){s&&(m(e),m(n)),o.d(s),l&&l.d(s)}}}function nn(t){let e;return{c(){e=h("h2"),e.textContent="Status",$(e,"slot","heading")},m(n,r){g(n,e,r)},p:y,d(n){n&&m(e)}}}function rn(t){let e,n;return e=new se({props:{name:"status",$$slots:{heading:[nn],default:[tn]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(r,i){E(e,r,i),n=!0},p(r,[i]){const o={};i&35&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){P(e,r)}}}function on(t,e,n){let r;I(t,j,f=>n(1,r=f));const i=()=>`Status code: ${r.statusCode}
Status message: ${r.statusMsg}`;let o,l="0",s;return j.subscribe(f=>{o=Date.now(),clearInterval(s),f.isRunning?s=setInterval(()=>{n(0,l=((r.timeUntilNext-(Date.now()-o))/1e3).toFixed(1))},100):n(0,l="0")}),[l,r,i]}class sn extends z{constructor(e){super(),U(this,e,on,rn,A,{})}}function Oe(t){let e,n,r,i;e=new Ot({});let o=t[1].cameraConnected&&Le();return{c(){R(e.$$.fragment),n=N(),o&&o.c(),r=H()},m(l,s){E(e,l,s),g(l,n,s),o&&o.m(l,s),g(l,r,s),i=!0},p(l,s){l[1].cameraConnected?o?s&2&&w(o,1):(o=Le(),o.c(),w(o,1),o.m(r.parentNode,r)):o&&(he(),S(o,1,1,()=>{o=null}),$e())},i(l){i||(w(e.$$.fragment,l),w(o),i=!0)},o(l){S(e.$$.fragment,l),S(o),i=!1},d(l){l&&(m(n),m(r)),P(e,l),o&&o.d(l)}}}function Le(t){let e,n;return e=new Xt({}),{c(){R(e.$$.fragment)},m(r,i){E(e,r,i),n=!0},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){S(e.$$.fragment,r),n=!1},d(r){P(e,r)}}}function ln(t){let e,n,r,i,o,l,s,f,c,_,d;o=new bt({}),s=new sn({}),c=new Tt({});let p=t[0]&&Oe(t);return{c(){e=h("main"),n=h("div"),r=h("h1"),r.textContent="ESP8266 Intervalometer",i=N(),R(o.$$.fragment),l=N(),R(s.$$.fragment),f=N(),R(c.$$.fragment),_=N(),p&&p.c(),Z(n,"display","flex"),Z(n,"flex-direction","row"),Z(n,"justify-content","space-between"),Z(n,"column-gap","8px")},m(u,a){g(u,e,a),v(e,n),v(n,r),v(n,i),E(o,n,null),v(e,l),E(s,e,null),v(e,f),E(c,e,null),v(e,_),p&&p.m(e,null),d=!0},p(u,[a]){u[0]?p?(p.p(u,a),a&1&&w(p,1)):(p=Oe(u),p.c(),w(p,1),p.m(e,null)):p&&(he(),S(p,1,1,()=>{p=null}),$e())},i(u){d||(w(o.$$.fragment,u),w(s.$$.fragment,u),w(c.$$.fragment,u),w(p),d=!0)},o(u){S(o.$$.fragment,u),S(s.$$.fragment,u),S(c.$$.fragment,u),S(p),d=!1},d(u){u&&m(e),P(o),P(s),P(c),p&&p.d()}}}function cn(t,e,n){let r,i;return I(t,te,o=>n(0,r=o)),I(t,j,o=>n(1,i=o)),[r,i]}class un extends z{constructor(e){super(),U(this,e,cn,ln,A,{})}}new un({target:document.getElementById("app")});</script>
    <style>:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;font-size:16px;box-sizing:border-box;color:var(--gray-5);background-color:var(--gray-95);transition:background-color .2s,color .2s}*,*:before,*:after{box-sizing:inherit}body,h1,h2,h3,h4,h5,h6,p,ol,ul{margin:0;padding:0;font-weight:400}ol,ul{list-style:none}img{max-width:100%;height:auto}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex}main{display:flex;flex-direction:column;row-gap:32px}#app{width:100%;max-width:480px;margin:0 auto;padding:2rem}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;color:var(--gray-95);background-color:var(--gray-5);cursor:pointer;transition:background-color .2s,color .2s}button:hover{background-color:var(--gray-35)}input{border-width:2px;border-color:transparent;border-style:solid;border-radius:8px;padding:.6em;outline:none;font-size:inherit;font-family:inherit;color:var(--gray-5);background-color:var(--gray-85);transition:background-color .2s,color .2s,border-color .2s}input:hover{border-color:var(--gray-65)}input:focus{border-color:var(--gray-50)}.success{color:var(--green-5)}.warning{color:var(--yellow-5)}.error{color:var(--red-5)}p{white-space:pre-line;transition:color .2s}:root{--black:#121212;--white:#e6e6e6;--dark:#4c4c4c;--light:#a5a5a5;--darker:#2d2d2d;--lighter:#c5c5c5;--medium:#888888;--light-red:#ff8484;--dark-red:#b70000;--light-green:#87ff85;--dark-green:#028100;--light-yellow:#fffd85;--dark-yellow:#768500}button.svelte-1yxernf{background-color:transparent;padding:8px;min-width:48px;display:flex;align-items:center}button.svelte-1yxernf:hover{background-color:var(--gray-65)}.section.svelte-1498x88{border-style:solid;border-width:2px;border-color:var(--gray-50);border-radius:16px;display:flex;flex-direction:column;padding:16px 16px 0;transition:border-color .2s}.body.svelte-1498x88{display:flex;flex-direction:column;row-gap:16px;padding-bottom:16px}.heading.svelte-1498x88{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-bottom:16px}button.svelte-1498x88{color:inherit;background-color:transparent;padding:4px;display:flex;align-items:center}button.svelte-1498x88:hover{background-color:var(--gray-65)}svg.svelte-1498x88{transition:transform .3s}svg.rotated.svelte-1498x88{transform:rotate(-90deg)}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
)rawliteral";

const char iconSvg[] PROGMEM = R"rawliteral(
<svg class="iconify iconify--logos" width="32" height="32" aria-hidden="true" preserveAspectRatio="xMidYMid" role="img" version="1.1" viewBox="0 0 256.96 257" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><radialGradient id="radialGradient9277" cx="128.48" cy="128.5" r="96.375" gradientUnits="userSpaceOnUse"><stop stop-color="#e6e6e6" offset="0"/><stop stop-color="#c6c6c6" offset=".67716"/><stop stop-color="#a5a5a5" offset="1"/></radialGradient><clipPath id="clipPath10832"><circle cx="128.48" cy="128.5" r="128.5" fill="none" style="paint-order:normal"/></clipPath></defs><g clip-path="url(#clipPath10832)"><rect x="-.01819" width="257" height="257" fill="#121212" style="paint-order:normal"/><circle cx="128.48" cy="128.5" r="96.375" fill="url(#radialGradient9277)" style="paint-order:normal"/><circle cx="96.357" cy="160.62" r="96.375" fill="#121212" style="paint-order:normal"/></g></svg>
)rawliteral";